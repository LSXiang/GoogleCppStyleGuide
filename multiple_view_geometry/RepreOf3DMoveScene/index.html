



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="SLAM 之旅（Journey to SLAM）是用于记录分享学习 SLAM 知识的平台">
      
      
        <link rel="canonical" href="https://lsxiang.github.io/Journey2SLAM/multiple_view_geometry/RepreOf3DMoveScene/">
      
      
        <meta name="author" content="Jacob.lsx">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.2">
    
    
      
        <title>三维运动场景的表示 - SLAM 之旅</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.3020aac5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="manifest" href="../../manifest.webmanifest">
    
    
      <link rel="stylesheet" href="../../_configurations/_theme_extra/theme_extra.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-XXXXXXXX-X", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#三维重建的起源" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://lsxiang.github.io/Journey2SLAM" title="SLAM 之旅" class="md-header-nav__button md-logo">
          
            <i class="md-icon">school</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SLAM 之旅
            </span>
            <span class="md-header-nav__topic">
              三维运动场景的表示
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/LSXiang/Journey2SLAM/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    LSXiang/Journey2SLAM
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="主页" class="md-tabs__link">
        主页
      </a>
    
  </li>

      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../computer_vision/computer_vision/" title="计算机视觉基础" class="md-tabs__link">
          计算机视觉基础
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../mvg/" title="多视几何" class="md-tabs__link md-tabs__link--active">
          多视几何
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../state_estimation_robotics/state_estimation_robotics/" title="状态估计" class="md-tabs__link">
          状态估计
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../projects/projects/" title="开源项目" class="md-tabs__link">
          开源项目
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../others/md_template/" title="其他" class="md-tabs__link">
          其他
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://lsxiang.github.io/Journey2SLAM" title="SLAM 之旅" class="md-nav__button md-logo">
      
        <i class="md-icon">school</i>
      
    </a>
    SLAM 之旅
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/LSXiang/Journey2SLAM/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    LSXiang/Journey2SLAM
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="主页" class="md-nav__link">
      主页
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../aboutSLAM/" title="关于 SLAM" class="md-nav__link">
      关于 SLAM
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      计算机视觉基础
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        计算机视觉基础
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../computer_vision/computer_vision/" title="计算机视觉基础概览" class="md-nav__link">
      计算机视觉基础概览
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../computer_vision/image_filtering/" title="图像滤波器" class="md-nav__link">
      图像滤波器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      特征提取与匹配
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        特征提取与匹配
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../computer_vision/Harris/" title="Harris 角点检测" class="md-nav__link">
      Harris 角点检测
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../computer_vision/FAST/" title="Fast 角点检测" class="md-nav__link">
      Fast 角点检测
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../computer_vision/ORB/" title="ORB 特征" class="md-nav__link">
      ORB 特征
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../computer_vision/SIFT/" title="SIFT 特征" class="md-nav__link">
      SIFT 特征
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../computer_vision/SUFT/" title="SUFT 特征" class="md-nav__link">
      SUFT 特征
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../computer_vision/Haar/" title="Haar 特征" class="md-nav__link">
      Haar 特征
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      多视几何
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        多视几何
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../mvg/" title="多视几何概览" class="md-nav__link">
      多视几何概览
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../linear_algebra/" title="数学背景 - 线性代数" class="md-nav__link">
      数学背景 - 线性代数
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        三维运动场景的表示
      </label>
    
    <a href="./" title="三维运动场景的表示" class="md-nav__link md-nav__link--active">
      三维运动场景的表示
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#三维重建的起源" title="三维重建的起源" class="md-nav__link">
    三维重建的起源
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#三维欧式空间" title="三维欧式空间" class="md-nav__link">
    三维欧式空间
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#向量" title="向量" class="md-nav__link">
    向量
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#叉积" title="叉积" class="md-nav__link">
    叉积
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#反对称矩阵" title="反对称矩阵" class="md-nav__link">
    反对称矩阵
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#刚体运动" title="刚体运动" class="md-nav__link">
    刚体运动
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#刚体旋转的表达" title="刚体旋转的表达" class="md-nav__link">
    刚体旋转的表达
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#旋转的指数表示" title="旋转的指数表示" class="md-nav__link">
    旋转的指数表示
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#李群和李代数" title="李群和李代数" class="md-nav__link">
    李群和李代数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#指数映射" title="指数映射" class="md-nav__link">
    指数映射
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#对数映射" title="对数映射" class="md-nav__link">
    对数映射
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#罗德里格斯旋转" title="罗德里格斯旋转" class="md-nav__link">
    罗德里格斯旋转
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#刚体运动变换的表达" title="刚体运动变换的表达" class="md-nav__link">
    刚体运动变换的表达
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#刚体运动的正则指数坐标" title="刚体运动的正则指数坐标" class="md-nav__link">
    刚体运动的正则指数坐标
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#坐标和速度变换" title="坐标和速度变换" class="md-nav__link">
    坐标和速度变换
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#坐标变换规则" title="坐标变换规则" class="md-nav__link">
    坐标变换规则
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#速度变换规则" title="速度变换规则" class="md-nav__link">
    速度变换规则
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#总结" title="总结" class="md-nav__link">
    总结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      状态估计
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        状态估计
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../state_estimation_robotics/state_estimation_robotics/" title="状态估计概览" class="md-nav__link">
      状态估计概览
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      开源项目
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        开源项目
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/projects/" title="开源项目概览" class="md-nav__link">
      开源项目概览
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      RPG-SVO
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        RPG-SVO
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/rpg_svo/algorithm_framework/" title="SVO 算法框架" class="md-nav__link">
      SVO 算法框架
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/rpg_svo/code_analysis/" title="SVO 代码解析" class="md-nav__link">
      SVO 代码解析
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      ORB-SLAM
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        ORB-SLAM
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/orb_slam/tracking/" title="跟踪线程" class="md-nav__link">
      跟踪线程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/orb_slam/local_mapping/" title="局部建图线程" class="md-nav__link">
      局部建图线程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/orb_slam/loop_closing/" title="回环检测线程" class="md-nav__link">
      回环检测线程
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      其他
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        其他
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../others/md_template/" title="Markdown 写作模版" class="md-nav__link">
      Markdown 写作模版
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#三维重建的起源" title="三维重建的起源" class="md-nav__link">
    三维重建的起源
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#三维欧式空间" title="三维欧式空间" class="md-nav__link">
    三维欧式空间
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#向量" title="向量" class="md-nav__link">
    向量
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#叉积" title="叉积" class="md-nav__link">
    叉积
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#反对称矩阵" title="反对称矩阵" class="md-nav__link">
    反对称矩阵
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#刚体运动" title="刚体运动" class="md-nav__link">
    刚体运动
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#刚体旋转的表达" title="刚体旋转的表达" class="md-nav__link">
    刚体旋转的表达
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#旋转的指数表示" title="旋转的指数表示" class="md-nav__link">
    旋转的指数表示
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#李群和李代数" title="李群和李代数" class="md-nav__link">
    李群和李代数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#指数映射" title="指数映射" class="md-nav__link">
    指数映射
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#对数映射" title="对数映射" class="md-nav__link">
    对数映射
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#罗德里格斯旋转" title="罗德里格斯旋转" class="md-nav__link">
    罗德里格斯旋转
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#刚体运动变换的表达" title="刚体运动变换的表达" class="md-nav__link">
    刚体运动变换的表达
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#刚体运动的正则指数坐标" title="刚体运动的正则指数坐标" class="md-nav__link">
    刚体运动的正则指数坐标
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#坐标和速度变换" title="坐标和速度变换" class="md-nav__link">
    坐标和速度变换
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#坐标变换规则" title="坐标变换规则" class="md-nav__link">
    坐标变换规则
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#速度变换规则" title="速度变换规则" class="md-nav__link">
    速度变换规则
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#总结" title="总结" class="md-nav__link">
    总结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/LSXiang/Journey2SLAM/edit/master/docs/multiple_view_geometry/RepreOf3DMoveScene.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>三维运动场景的表示</h1>
                
                <h2 id="三维重建的起源">三维重建的起源<a class="headerlink" href="#三维重建的起源" title="Permanent link"></a></h2>
<p>从一组二维视图重建世界的三维结构在计算机视觉领域有着悠久的历史。这是一个经典的<em>不适定问题 (ill-posed problem)</em>，因为重构一组一致的观察或图像相通常并不是唯一的。因此，我们需要附加一些假设。在数学上，研究三维场景与观测到的二维投影之间的几何关系是基于两种类型的变换，即，</p>
<ul>
<li>用<strong>欧几里得运动 (Euclidean motion)</strong> 或<strong>刚体运动 (rigid-body motion)</strong> 来表示相机从当前帧到下一帧图像的运动</li>
<li>用<strong>透视投影 (Perspective projection)</strong> 来表示图像的形成过程 (如：<strong>针孔相机 (pinhole camera)</strong> 等)。</li>
</ul>
<p>透视投影的概念起源于古希腊 (Euclid of Alexandria,  400 B.C.) 和文艺复兴时期 (Brunelleschi &amp; Alberti, 1435)。透视投影的研究引出了<strong>投影几何 (projective geometry)</strong> 领域。</p>
<p>关于多视几何的第一个研究工作成果是来至于 Erwin Kruppa (1913) ，他指出五个点的两个视图足以确定两个视图之间的相对变换（运动） 和点的三维位置（结构）。Longuet-Higgins 在 1981 年提出了一种基于两视图<strong>对极约束 (epipolar constraint)</strong> 恢复运动结构重建的线性算法。在几本教科书中总结了一系列关于这方面的著作 (Faugeras 1993, Kanatani 1993, Maybank 1993, Weng et al. 1993) 。对三个视图的扩展由 Spetsakis 和 Aloimonos 87、90、Shashua 94 和 Hartley 95 研究发布的。多视图和正交投影的因子分解技术是由 Tomasi 和 Kanade 于 1992 年研究发布的。</p>
<p>相机运动与三维位置的联合估计称为<strong>运动结构重建 (structure and motion)</strong> 或<strong>视觉 SLAM (visual SLAM)</strong> 。</p>
<h2 id="三维欧式空间">三维欧式空间<a class="headerlink" href="#三维欧式空间" title="Permanent link"></a></h2>
<p>一般来说，欧几里得空间是一个集合，它的元素满足欧几里得的五个公理。三维的欧几里得空间 <span><span class="MathJax_Preview">\mathbb{E}^3</span><script type="math/tex">\mathbb{E}^3</script></span> 是由以下式为坐标的所有点 <span><span class="MathJax_Preview">P \in \mathbb{E}^3</span><script type="math/tex">P \in \mathbb{E}^3</script></span> 组成的。</p>
<div>
<div class="MathJax_Preview">
\mathbf{X} \doteq [X_1, X_2, X_3]^\top = 
\begin{bmatrix} X_1 \\ X_2 \\ X_3 \end{bmatrix} \in \mathbb{R}^3
</div>
<script type="math/tex; mode=display">
\mathbf{X} \doteq [X_1, X_2, X_3]^\top = 
\begin{bmatrix} X_1 \\ X_2 \\ X_3 \end{bmatrix} \in \mathbb{R}^3
</script>
</div>
<p>通过这样一个<strong>笛卡尔 (Cartesian) 坐标系</strong>的赋值，可以在 <span><span class="MathJax_Preview">\mathbb{E}^3</span><script type="math/tex">\mathbb{E}^3</script></span> 和 <span><span class="MathJax_Preview">\mathbb{R}^3</span><script type="math/tex">\mathbb{R}^3</script></span> 之间建立一一对应关系。这里的 <span><span class="MathJax_Preview">\mathbb{E}^3</span><script type="math/tex">\mathbb{E}^3</script></span> 可以被视为等同于 <span><span class="MathJax_Preview">\mathbb{R}^3</span><script type="math/tex">\mathbb{R}^3</script></span> 。这意味着允许我们当讨论一个点 ( <span><span class="MathJax_Preview">\mathbb{E}^3</span><script type="math/tex">\mathbb{E}^3</script></span> ) 和坐标 ( <span><span class="MathJax_Preview">\mathbb{R}^3</span><script type="math/tex">\mathbb{R}^3</script></span> ) 犹如是一回事一样。笛卡尔坐标是使测量距离和角度成为可能的第一步。为此，必须为 <span><span class="MathJax_Preview">\mathbb{E}^3</span><script type="math/tex">\mathbb{E}^3</script></span> 赋予<strong>度量标准 (metric)</strong> 。 度量的精确定义依赖于向量的概念。</p>
<h3 id="向量">向量<a class="headerlink" href="#向量" title="Permanent link"></a></h3>
<p>在欧式空间中，一个向量 <span><span class="MathJax_Preview">\mathbf{v}</span><script type="math/tex">\mathbf{v}</script></span> 由一对点 <span><span class="MathJax_Preview">q, p \in \mathbb{E}^3</span><script type="math/tex">q, p \in \mathbb{E}^3</script></span> 确定，被定义为链接 <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> 到 <span><span class="MathJax_Preview">q</span><script type="math/tex">q</script></span> 的有向箭头记号，表示称 <span><span class="MathJax_Preview">\mathbf{v} = \overrightarrow{pq}</span><script type="math/tex">\mathbf{v} = \overrightarrow{pq}</script></span> 。这里的点 <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> 通常被称为是向量 <span><span class="MathJax_Preview">\mathbf{v}</span><script type="math/tex">\mathbf{v}</script></span> 的基点。假使点 <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> 的坐标为 <span><span class="MathJax_Preview">\mathbf{X}</span><script type="math/tex">\mathbf{X}</script></span> ，点 <span><span class="MathJax_Preview">q</span><script type="math/tex">q</script></span> 的坐标为 <span><span class="MathJax_Preview">\mathbf{Y}</span><script type="math/tex">\mathbf{Y}</script></span> ，那么向量 <span><span class="MathJax_Preview">\mathbf{v}</span><script type="math/tex">\mathbf{v}</script></span> 的坐标为：</p>
<div>
<div class="MathJax_Preview">
\mathbf{v} = [v_1, v_2, v_3]^\top \doteq \mathbf{Y} - \mathbf{X} \in \mathbb{R}^3
</div>
<script type="math/tex; mode=display">
\mathbf{v} = [v_1, v_2, v_3]^\top \doteq \mathbf{Y} - \mathbf{X} \in \mathbb{R}^3
</script>
</div>
<p>以上对向量的定位被称为<strong>有界向量 (bound vector)</strong> 。考虑这个向量独立于它的基点 <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> 使得它是一个<strong>自由向量 (free vector)</strong> 。</p>
<div class="admonition note">
<p>需要注意：点和向量是不同的几何对象。这一点很重要，我们很快就会看到，因为刚体运动对点和向量的作用是不同的。</p>
</div>
<p>所有自由向量 <span><span class="MathJax_Preview">\mathbf{v} \in \mathbb{R}^3</span><script type="math/tex">\mathbf{v} \in \mathbb{R}^3</script></span> 的集合构成一个线性向量空间。通过确定 <span><span class="MathJax_Preview">\mathbb{E}^3</span><script type="math/tex">\mathbb{E}^3</script></span> 和 <span><span class="MathJax_Preview">\mathbb{R}^3</span><script type="math/tex">\mathbb{R}^3</script></span> 之间的联系， <span><span class="MathJax_Preview">\mathbb{E}^3</span><script type="math/tex">\mathbb{E}^3</script></span> 的欧几里德度量标准仅由向量空间 <span><span class="MathJax_Preview">\mathbb{R}^3</span><script type="math/tex">\mathbb{R}^3</script></span> 上的一个<strong>内积 (inner product，或称为点积，dot product)</strong> 定义。有了这样一个度量标准 (metric) ，我们不仅可以测量点之间的距离（向量的模）或向量之间的角度，还可以计算曲线的长度或区域的体积。</p>
<p>运动粒子 <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> 在 <span><span class="MathJax_Preview">\mathbb{E}^3</span><script type="math/tex">\mathbb{E}^3</script></span> 中的运动轨迹可用曲线 <span><span class="MathJax_Preview">\gamma(\cdot) : t \mapsto \mathbf{X} \in \mathbb{R}^3, t \in [0, 1]</span><script type="math/tex">\gamma(\cdot) : t \mapsto \mathbf{X} \in \mathbb{R}^3, t \in [0, 1]</script></span> 来描述，则曲线的总长度为：</p>
<div>
<div class="MathJax_Preview">
l(\gamma(\cdot)) = \int_0^1 \| \dot{\mathbf{X}} (t) dt \|
</div>
<script type="math/tex; mode=display">
l(\gamma(\cdot)) = \int_0^1 \| \dot{\mathbf{X}} (t) dt \|
</script>
</div>
<p>这里的 <span><span class="MathJax_Preview">\dot{\mathbf{X}} (t) = \frac{\mathrm d}{\mathrm d t} \big( \mathbf{X} (t) \big) \in \mathbb{R}^3</span><script type="math/tex">\dot{\mathbf{X}} (t) = \frac{\mathrm d}{\mathrm d t} \big( \mathbf{X} (t) \big) \in \mathbb{R}^3</script></span> 被称为曲线的切向量。 </p>
<h3 id="叉积">叉积<a class="headerlink" href="#叉积" title="Permanent link"></a></h3>
<p>在向量空间 <span><span class="MathJax_Preview">\mathbb{R}^3</span><script type="math/tex">\mathbb{R}^3</script></span> 上可以定义一个叉积运算，运算形式如下：</p>
<div>
<div class="MathJax_Preview">
\times : \mathbb{R}^3 \times \mathbb{R}^3 \to \mathbb{R}^3: \quad \mathbf{u} \times \mathbf{v} = \begin{bmatrix} u_2 v_3 - u_3 v_2  \\ u_3 v_1 - u_1 v_3 \\ u_1 v_2 - u_2 v_1 \end{bmatrix} \in \mathbb{R}^3
</div>
<script type="math/tex; mode=display">
\times : \mathbb{R}^3 \times \mathbb{R}^3 \to \mathbb{R}^3: \quad \mathbf{u} \times \mathbf{v} = \begin{bmatrix} u_2 v_3 - u_3 v_2  \\ u_3 v_1 - u_1 v_3 \\ u_1 v_2 - u_2 v_1 \end{bmatrix} \in \mathbb{R}^3
</script>
</div>
<p>其中，向量 <span><span class="MathJax_Preview">\mathbf{u, v}</span><script type="math/tex">\mathbf{u, v}</script></span> 的叉积结果是一个垂直于它们的向量。由于 <span><span class="MathJax_Preview">\mathbf{u} \times \mathbf{v} = - \mathbf{v} \times \mathbf{u}</span><script type="math/tex">\mathbf{u} \times \mathbf{v} = - \mathbf{v} \times \mathbf{u}</script></span> ，两个向量的外积正交于它的每个因子，因子的顺序决定了叉积结果的<em>方向 (orientation)</em>。这个方向满足<strong>右手法则 (Right-hand rule)</strong> 。</p>
<h3 id="反对称矩阵">反对称矩阵<a class="headerlink" href="#反对称矩阵" title="Permanent link"></a></h3>
<p>固定 <span><span class="MathJax_Preview">\mathbf{u}</span><script type="math/tex">\mathbf{u}</script></span> 可以因此一个通过反对称矩阵定义的线性映射： <span><span class="MathJax_Preview">\mathbf{v} \to \mathbf{u} \times \mathbf{v}</span><script type="math/tex">\mathbf{v} \to \mathbf{u} \times \mathbf{v}</script></span> ，该反对称矩阵表示成 <span><span class="MathJax_Preview">\hat{\mathbf{u}} \in \mathbb{R}^{3\times3}</span><script type="math/tex">\hat{\mathbf{u}} \in \mathbb{R}^{3\times3}</script></span> ，称为 “<span><span class="MathJax_Preview">\mathbf{u}</span><script type="math/tex">\mathbf{u}</script></span> <strong>hat</strong>” 。在一些文献中，反对称矩阵 <span><span class="MathJax_Preview">\hat{\mathbf{u}}</span><script type="math/tex">\hat{\mathbf{u}}</script></span> 也可以表示成 <span><span class="MathJax_Preview">\mathbf{u}_\times \, \text{或} \, [\mathbf{u}]_\times</span><script type="math/tex">\mathbf{u}_\times \, \text{或} \, [\mathbf{u}]_\times</script></span> ：</p>
<div>
<div class="MathJax_Preview">
\hat{\mathbf{u}} \doteq
\begin{bmatrix}
  0 &amp; -u_3 &amp; u_2 \\ u_3 &amp; 0 &amp; -u_1 \\ -u_2 &amp; u_1 &amp; 0
\end{bmatrix}
\in \mathbb{R}^{3\times3}
</div>
<script type="math/tex; mode=display">
\hat{\mathbf{u}} \doteq
\begin{bmatrix}
  0 & -u_3 & u_2 \\ u_3 & 0 & -u_1 \\ -u_2 & u_1 & 0
\end{bmatrix}
\in \mathbb{R}^{3\times3}
</script>
</div>
<p>因此，我们可将叉积写成 <span><span class="MathJax_Preview">\mathbf{u} \times \mathbf{v} = \hat{\mathbf{u}} \mathbf{v}</span><script type="math/tex">\mathbf{u} \times \mathbf{v} = \hat{\mathbf{u}} \mathbf{v}</script></span> 。反对称矩阵有 <span><span class="MathJax_Preview">\hat{\mathbf{u}}^\top = -\hat{\mathbf{u}}</span><script type="math/tex">\hat{\mathbf{u}}^\top = -\hat{\mathbf{u}}</script></span> 。</p>
<p>反之，每一个反对称矩阵 <span><span class="MathJax_Preview">M = -M^\top \in \mathbb{R}^{3\times3}</span><script type="math/tex">M = -M^\top \in \mathbb{R}^{3\times3}</script></span> 可以通过向量 <span><span class="MathJax_Preview">\mathbf{u} \in \mathbb{R}^3</span><script type="math/tex">\mathbf{u} \in \mathbb{R}^3</script></span> 来关联识别。<strong>帽 (hat)</strong> , <span><span class="MathJax_Preview">\wedge : \mathbb{R}^3 \to so(3); \; \mathbf{u} \to \hat{\mathbf{u}}</span><script type="math/tex">\wedge : \mathbb{R}^3 \to so(3); \; \mathbf{u} \to \hat{\mathbf{u}}</script></span> 运算符定义了一个<em>同构 (isomorphism)</em> 在空间 <span><span class="MathJax_Preview">\mathbb{R}^3</span><script type="math/tex">\mathbb{R}^3</script></span> 和所有由 <span><span class="MathJax_Preview">3\times3</span><script type="math/tex">3\times3</script></span> 反对称矩阵构成的 <span><span class="MathJax_Preview">so(3)</span><script type="math/tex">so(3)</script></span> 的子空间。它的逆操作称为 <strong>vee</strong> 操作 <span><span class="MathJax_Preview">\vee : so(3) \to \mathbb{R}^3; \; \hat{\mathbf{u}} \to \hat{\mathbf{u}}^\vee = \mathbf{u}</span><script type="math/tex">\vee : so(3) \to \mathbb{R}^3; \; \hat{\mathbf{u}} \to \hat{\mathbf{u}}^\vee = \mathbf{u}</script></span> 。</p>
<h2 id="刚体运动">刚体运动<a class="headerlink" href="#刚体运动" title="Permanent link"></a></h2>
<p>刚体的运动保持刚体上任意一对点 <span><span class="MathJax_Preview">(p,q)</span><script type="math/tex">(p,q)</script></span> 之间的距离恒为 <span><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span> 。如下图所示：</p>
<p><img alt="Rigid-Body Motion" src="../image/rigid-body motion.png" /></p>
<p>因此，如果 <span><span class="MathJax_Preview">\mathbf{X}(t)</span><script type="math/tex">\mathbf{X}(t)</script></span> 和 <span><span class="MathJax_Preview">\mathbf{Y}(t)</span><script type="math/tex">\mathbf{Y}(t)</script></span> 是物体上任意两点 <span><span class="MathJax_Preview">p,q</span><script type="math/tex">p,q</script></span> 的坐标，那么它们的距离是恒定的：</p>
<div>
<div class="MathJax_Preview">
\| \mathbf{X}(t) - \mathbf{Y}(t) \| \equiv 常数, \quad \forall t \in \mathbb{R} \tag{1}
</div>
<script type="math/tex; mode=display">
\| \mathbf{X}(t) - \mathbf{Y}(t) \| \equiv 常数, \quad \forall t \in \mathbb{R} \tag{1}
</script>
</div>
<p><strong>刚体运动 (rigid-body motion)</strong> (或 <strong>刚体变换 (rigid-body transformation)</strong> ) 是一组映射，描述刚体上每个点的坐标如何在满足上式条件下随时间变化。将该映射表示成：</p>
<div>
<div class="MathJax_Preview">
g_t : \mathbb{R}^3 \to \mathbb{R}^3; \quad \mathbf{X} \to g_t({\mathbf{X}}) \quad t \in [0, T]
</div>
<script type="math/tex; mode=display">
g_t : \mathbb{R}^3 \to \mathbb{R}^3; \quad \mathbf{X} \to g_t({\mathbf{X}}) \quad t \in [0, T]
</script>
</div>
<p>且需要维持向量的<strong>模 (norm)</strong> 与<strong>叉积 (cross product)</strong> 满足以下两个式子：</p>
<ul>
<li><span><span class="MathJax_Preview">\|g_t (\mathrm{v})\| = \|\mathrm{v}\|, \; \forall \mathrm{v} \in \mathbb{R}^3</span><script type="math/tex">\|g_t (\mathrm{v})\| = \|\mathrm{v}\|, \; \forall \mathrm{v} \in \mathbb{R}^3</script></span> </li>
<li><span><span class="MathJax_Preview">g_t(\mathrm{u}) \times g_t(\mathrm{v}) = g_t(\mathrm{u} \times \mathrm{v}), \forall \mathrm{u}, \mathrm{v} \in \mathbb{R}^3</span><script type="math/tex">g_t(\mathrm{u}) \times g_t(\mathrm{v}) = g_t(\mathrm{u} \times \mathrm{v}), \forall \mathrm{u}, \mathrm{v} \in \mathbb{R}^3</script></span> </li>
</ul>
<p>所有这些运动或变换的集合用 <span><span class="MathJax_Preview">SE(3)</span><script type="math/tex">SE(3)</script></span> 表示。刚体运动引起的映射或变换称为<strong>特殊欧几里德变换 (special Euclidean transformation)</strong> 。“特殊” 一词表示转换是保持方向的。</p>
<p>根据上面刚体运动的定义，内积可以依赖范数通过<em>极化恒等式 (polarization identity)</em> 来定义：</p>
<div>
<div class="MathJax_Preview">
\langle u,v \rangle = \frac{1}{4} (\|u+v\|^2 - \|u-v\|^2)
</div>
<script type="math/tex; mode=display">
\langle u,v \rangle = \frac{1}{4} (\|u+v\|^2 - \|u-v\|^2)
</script>
</div>
<p>因此我们也可以说刚体运动是一个保持内积和外积的映射，而且根据定义可知道刚体运动也保留了<strong>三重积 (triple product)</strong> ：</p>
<div>
<div class="MathJax_Preview">
\langle g_t(u), g_t(v)\times g_t(w) \rangle = \langle u,v\times w \rangle, \forall u,v,w \in \mathbb{R}^3
</div>
<script type="math/tex; mode=display">
\langle g_t(u), g_t(v)\times g_t(w) \rangle = \langle u,v\times w \rangle, \forall u,v,w \in \mathbb{R}^3
</script>
</div>
<p>由于三重积对应于由这三个向量张成的平行六面体的体积，刚体运动也保留了<strong>体积 (volume)</strong> 。</p>
<h3 id="刚体旋转的表达">刚体旋转的表达<a class="headerlink" href="#刚体旋转的表达" title="Permanent link"></a></h3>
<p>如下图所示，刚体的旋转可以看作绕固定点 <span><span class="MathJax_Preview">o</span><script type="math/tex">o</script></span> 沿着轴 <span><span class="MathJax_Preview">\omega</span><script type="math/tex">\omega</script></span> 旋转。设参考系坐标 <span><span class="MathJax_Preview">W</span><script type="math/tex">W</script></span> (实线) 是固定的，而旋转刚体的坐标系 <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> (虚线) 与刚体绑定在一起。</p>
<p><img alt="Rotation of a rigid body" src="../image/Rotation4Rigid-body.png" /></p>
<p>坐标系 <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> 相对于坐标系 <span><span class="MathJax_Preview">W</span><script type="math/tex">W</script></span> 的构型 (或 “方位”) 由三个标准正交向量 <span><span class="MathJax_Preview">\mathbf{r}_1 = g_*(\mathbf{e}_1), \mathbf{r}_2 = g_*(\mathbf{e}_2), \mathbf{r}_3 = g_*(\mathbf{e}_3) \in \mathbb{R}^3</span><script type="math/tex">\mathbf{r}_1 = g_*(\mathbf{e}_1), \mathbf{r}_2 = g_*(\mathbf{e}_2), \mathbf{r}_3 = g_*(\mathbf{e}_3) \in \mathbb{R}^3</script></span> 相对于世界坐标系 <span><span class="MathJax_Preview">W</span><script type="math/tex">W</script></span> 的坐标变换决定。这三个向量 <span><span class="MathJax_Preview">\mathbf{r}_1, \mathbf{r}_2, \mathbf{r}_3</span><script type="math/tex">\mathbf{r}_1, \mathbf{r}_2, \mathbf{r}_3</script></span> 分别是沿着坐标系 <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> 的三个主轴 <span><span class="MathJax_Preview">x, y, z</span><script type="math/tex">x, y, z</script></span> 的单位向量。因此旋转矩阵的构型可以通过一个 <span><span class="MathJax_Preview">3 \times 3</span><script type="math/tex">3 \times 3</script></span> 的矩阵进行定义：</p>
<div>
<div class="MathJax_Preview">
R_{wc} \doteq [\mathbf{r}_1, \mathbf{r}_2, \mathbf{r}_3] \quad \in \mathbb{R}^{3 \times 3}
</div>
<script type="math/tex; mode=display">
R_{wc} \doteq [\mathbf{r}_1, \mathbf{r}_2, \mathbf{r}_3] \quad \in \mathbb{R}^{3 \times 3}
</script>
</div>
<p>其中三个向量 <span><span class="MathJax_Preview">\mathbf{r}_1, \mathbf{r}_2, \mathbf{r}_3</span><script type="math/tex">\mathbf{r}_1, \mathbf{r}_2, \mathbf{r}_3</script></span> 按照顺序堆叠成矩阵的三列。由于向量 <span><span class="MathJax_Preview">\mathbf{r}_1, \mathbf{r}_2, \mathbf{r}_3</span><script type="math/tex">\mathbf{r}_1, \mathbf{r}_2, \mathbf{r}_3</script></span> 来自正交坐标系，因此有</p>
<div>
<div class="MathJax_Preview">
\mathbf{r}_i^\top \mathbf{r}_j = \delta_{ij} \doteq \begin{cases} 1, &amp; i = j \\ 0, &amp; i \neq j \end{cases} \quad \forall i,j \in [1,2,3]
</div>
<script type="math/tex; mode=display">
\mathbf{r}_i^\top \mathbf{r}_j = \delta_{ij} \doteq \begin{cases} 1, & i = j \\ 0, & i \neq j \end{cases} \quad \forall i,j \in [1,2,3]
</script>
</div>
<p>将此用矩阵形式表示为</p>
<div>
<div class="MathJax_Preview">
R_{wc}^\top R_{wc} = R_{wc}R_{wc}^\top = I
</div>
<script type="math/tex; mode=display">
R_{wc}^\top R_{wc} = R_{wc}R_{wc}^\top = I
</script>
</div>
<p>任何满足上述恒等式的矩阵称为<strong>正交矩阵 (orthogonal matrix)</strong> ，根据上面的定义，正交矩阵的逆就是它的转置： <span><span class="MathJax_Preview">R_{wc}^{-1} = R_{wc}^\top</span><script type="math/tex">R_{wc}^{-1} = R_{wc}^\top</script></span> 。由于 <span><span class="MathJax_Preview">\mathbf{r}_1, \mathbf{r}_2, \mathbf{r}_3</span><script type="math/tex">\mathbf{r}_1, \mathbf{r}_2, \mathbf{r}_3</script></span> 构成了一个右手坐标系，因而进一步得到了 <span><span class="MathJax_Preview">R_{wc}</span><script type="math/tex">R_{wc}</script></span> 的行列式必须为 <span><span class="MathJax_Preview">+1</span><script type="math/tex">+1</script></span> 的条件。因此矩阵 <span><span class="MathJax_Preview">R_{wc}</span><script type="math/tex">R_{wc}</script></span> 是<strong>特殊正交阵 (special orthogonal matrix)</strong> ，这里的特殊指示了该矩阵是正定的。所有 <span><span class="MathJax_Preview">\mathbb{R}^{3 \times 3}</span><script type="math/tex">\mathbb{R}^{3 \times 3}</script></span> 的特殊正交阵构成的空间定义如下：</p>
<div>
<div class="MathJax_Preview">
SO(3) \doteq \{ R \in \mathbb{R}^{3 \times 3} | R^\top R = I, \det(R) = +1 \}
</div>
<script type="math/tex; mode=display">
SO(3) \doteq \{ R \in \mathbb{R}^{3 \times 3} | R^\top R = I, \det(R) = +1 \}
</script>
</div>
<h4 id="旋转的指数表示">旋转的指数表示<a class="headerlink" href="#旋转的指数表示" title="Permanent link"></a></h4>
<p>根据上述，我们可知在 <span><span class="MathJax_Preview">\mathbb{E}^3</span><script type="math/tex">\mathbb{E}^3</script></span> 空间中刚体运动的旋转可以通过一个 <span><span class="MathJax_Preview">3 \times 3</span><script type="math/tex">3 \times 3</script></span> 的旋转矩阵 <span><span class="MathJax_Preview">R \in SO(3)</span><script type="math/tex">R \in SO(3)</script></span> 表示。每一个旋转矩阵 <span><span class="MathJax_Preview">R</span><script type="math/tex">R</script></span> 通过 <span><span class="MathJax_Preview">3 \times 3 = 9</span><script type="math/tex">3 \times 3 = 9</script></span> 元素定义。然而，这 <span><span class="MathJax_Preview">9</span><script type="math/tex">9</script></span> 个元素并不是自由参数，因为它们必须满足 <span><span class="MathJax_Preview">R^\top R= I</span><script type="math/tex">R^\top R= I</script></span> 的约束，这实际上对 <span><span class="MathJax_Preview">9</span><script type="math/tex">9</script></span> 个元素施加了 <span><span class="MathJax_Preview">6</span><script type="math/tex">6</script></span> 个独立的约束。因此，由旋转矩阵构成的空间 <span><span class="MathJax_Preview">SO(3)</span><script type="math/tex">SO(3)</script></span> 的维度应该只有 <span><span class="MathJax_Preview">3</span><script type="math/tex">3</script></span> 维，而 <span><span class="MathJax_Preview">9</span><script type="math/tex">9</script></span> 参数中有 <span><span class="MathJax_Preview">6</span><script type="math/tex">6</script></span> 实际上是多余的。</p>
<p>给定一个轨迹 <span><span class="MathJax_Preview">R(t) : \mathbb{R} \to SO(3)</span><script type="math/tex">R(t) : \mathbb{R} \to SO(3)</script></span> 描述一个连续的旋转运动，那么旋转必须满足下式：</p>
<div>
<div class="MathJax_Preview">
R(t) R^\top(t) = I
</div>
<script type="math/tex; mode=display">
R(t) R^\top(t) = I
</script>
</div>
<p>计算上面方程对时间 <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> 的导数，注意到右边是一个常数矩阵，可以得到</p>
<div>
<div class="MathJax_Preview">
\dot{R}(t) R^\top(t) + R(t) \dot{R}^\top(t) = 0 \quad \Rightarrow \quad \dot{R}(t) R^\top(t) = - (\dot{R}(t) R^\top(t))^\top
</div>
<script type="math/tex; mode=display">
\dot{R}(t) R^\top(t) + R(t) \dot{R}^\top(t) = 0 \quad \Rightarrow \quad \dot{R}(t) R^\top(t) = - (\dot{R}(t) R^\top(t))^\top
</script>
</div>
<p>根据性质，我们可知矩阵 <span><span class="MathJax_Preview">\dot{R}(t) R^\top(t) \in \mathbb{R}^{3 \times 3}</span><script type="math/tex">\dot{R}(t) R^\top(t) \in \mathbb{R}^{3 \times 3}</script></span> 是一个反对称矩阵。 根据<a href="#反对称矩阵">反对称矩阵的性质</a>，一定存在一个向量，设为 <span><span class="MathJax_Preview">\omega(t) \in \mathbb{R}^3</span><script type="math/tex">\omega(t) \in \mathbb{R}^3</script></span> ，使得</p>
<div>
<div class="MathJax_Preview">
\dot{R}(t) R^\top(t) = \hat{\omega}(t) \quad \Rightarrow \quad \dot{R}(t) = \hat{\omega}(t) R(t)
</div>
<script type="math/tex; mode=display">
\dot{R}(t) R^\top(t) = \hat{\omega}(t) \quad \Rightarrow \quad \dot{R}(t) = \hat{\omega}(t) R(t)
</script>
</div>
<p>根据上式，如果假设 <span><span class="MathJax_Preview">R(t_0) = I</span><script type="math/tex">R(t_0) = I</script></span> 且当 <span><span class="MathJax_Preview">t = t_0</span><script type="math/tex">t = t_0</script></span> 时有 <span><span class="MathJax_Preview">\dot{R}(t_0) = \hat{\omega}(t_0)</span><script type="math/tex">\dot{R}(t_0) = \hat{\omega}(t_0)</script></span> 。因此，围绕单位矩阵 <span><span class="MathJax_Preview">I</span><script type="math/tex">I</script></span> ，偏对称矩阵给出了旋转矩阵的一阶近似</p>
<div>
<div class="MathJax_Preview">
R(t_0 + dt) \approx I + \hat{\omega}(t_0)dt
</div>
<script type="math/tex; mode=display">
R(t_0 + dt) \approx I + \hat{\omega}(t_0)dt
</script>
</div>
<p>综上可得，所有的斜对称矩阵张成的空间如下表示</p>
<div>
<div class="MathJax_Preview">
so(3) \doteq \{ \hat{\omega} \in \mathbb{R}^{3 \times 3} | \omega \in \mathbb{R}^3 \}
</div>
<script type="math/tex; mode=display">
so(3) \doteq \{ \hat{\omega} \in \mathbb{R}^{3 \times 3} | \omega \in \mathbb{R}^3 \}
</script>
</div>
<p>它亦被称为旋转群 <span><span class="MathJax_Preview">SO(3)</span><script type="math/tex">SO(3)</script></span> 在恒等点处的<strong>切空间 (tangent space)</strong> 。旋转群 <span><span class="MathJax_Preview">SO(3)</span><script type="math/tex">SO(3)</script></span> 被称为<strong>李群 (Lie group)</strong> ，而它的切空间 <span><span class="MathJax_Preview">so(3)</span><script type="math/tex">so(3)</script></span> 被称为<strong>李代数 (Lie algebra)</strong> 。</p>
<h5 id="李群和李代数">李群和李代数<a class="headerlink" href="#李群和李代数" title="Permanent link"></a></h5>
<p>李群 (或无穷小群) 是一个光滑的流形，也是一个群，因此群运算乘法和逆运算是光滑的映射。在单位元处与李群相切的空间称为相关的李代数。从李代数到李群的映射称为指数映射，它的逆过程叫做对数映射。</p>
<p>李群与李代数涉及到庞大的知识量，这里对这部分就不进行拓展描述。后续或许会有专门的篇幅来记录这些知识点，再进行添加链接跳转（#TODO）。这部分知识我当时是阅读了<a href="http://asrl.utias.utoronto.ca/~tdb/">《机器人学中的状态估计》</a> 中相关的篇幅来学习的。当然读者也可以阅读更加数学性的书籍来学习，这里就不在引申。</p>
<div class="admonition tip">
<p class="admonition-title">Sophus Lie (1841 - 1899)</p>
<p>马里乌斯·索菲斯·李 (Marius Sophus Lie) 是一位出生于挪威的数学家。他创立了连续对称理论，并将其应用于几何和微分方程的研究。他最大的成就之一是发现连续变换群在线性化的版本中更容易理解 (Theorie der transformation sgruppen 1893)。这些无限小的生成器构成了一个今天被称为李代数的结构。群律的线性化版本对应于李代数上的一个操作，称为换向器托架或李托架。</p>
</div>
<h5 id="指数映射">指数映射<a class="headerlink" href="#指数映射" title="Permanent link"></a></h5>
<p>我们先假设矩阵 <span><span class="MathJax_Preview">\hat \omega</span><script type="math/tex">\hat \omega</script></span> 是一个常量，那么</p>
<div>
<div class="MathJax_Preview">
\dot R(t) = \hat \omega R(t)
</div>
<script type="math/tex; mode=display">
\dot R(t) = \hat \omega R(t)
</script>
</div>
<p>上式中矩阵 <span><span class="MathJax_Preview">R(t)</span><script type="math/tex">R(t)</script></span> 可以解释为以下<strong>线性常微分方程 (linear ordinary differential equation (ODE))</strong>的<strong>状态转移矩阵 (state transition matrix)</strong> </p>
<div>
<div class="MathJax_Preview">
\dot x(t) = \hat \omega x(t) , \quad x(t) \in \mathbb{R}^3
</div>
<script type="math/tex; mode=display">
\dot x(t) = \hat \omega x(t) , \quad x(t) \in \mathbb{R}^3
</script>
</div>
<p>上式线性常微分方程的解为</p>
<div>
<div class="MathJax_Preview">
x(t) = e^{\hat \omega t} x(0)
</div>
<script type="math/tex; mode=display">
x(t) = e^{\hat \omega t} x(0)
</script>
</div>
<p>其中 <span><span class="MathJax_Preview">e^{\hat \omega t}</span><script type="math/tex">e^{\hat \omega t}</script></span> 是矩阵指数</p>
<div>
<div class="MathJax_Preview">
e^{\hat \omega t} = I + \hat\omega t + \frac{(\hat\omega t)^2}{2!} + \dotsb + \frac{(\hat\omega t)^n}{n!} + \dotsb
</div>
<script type="math/tex; mode=display">
e^{\hat \omega t} = I + \hat\omega t + \frac{(\hat\omega t)^2}{2!} + \dotsb + \frac{(\hat\omega t)^n}{n!} + \dotsb
</script>
</div>
<p>其中，指数 <span><span class="MathJax_Preview">e^{\hat \omega t}</span><script type="math/tex">e^{\hat \omega t}</script></span> 通常记为 <span><span class="MathJax_Preview">\exp ( \hat \omega t)</span><script type="math/tex">\exp ( \hat \omega t)</script></span> 。由于上式线性常微分方程具有唯一解，那么假设 <span><span class="MathJax_Preview">R(0) = I</span><script type="math/tex">R(0) = I</script></span> 为初始条件，那么有：</p>
<div>
<div class="MathJax_Preview">
R(t) = e^{\hat \omega t}
</div>
<script type="math/tex; mode=display">
R(t) = e^{\hat \omega t}
</script>
</div>
<p>为了验证矩阵 <span><span class="MathJax_Preview">e^{\hat \omega t}</span><script type="math/tex">e^{\hat \omega t}</script></span> 确实是一个旋转矩阵，可以直接从矩阵指数的定义中看出</p>
<div>
<div class="MathJax_Preview">
(e^{\hat \omega t})^{-1} = e^{- \hat \omega t} = e^{\hat \omega^\top t} = (e^{\hat \omega t})^\top
</div>
<script type="math/tex; mode=display">
(e^{\hat \omega t})^{-1} = e^{- \hat \omega t} = e^{\hat \omega^\top t} = (e^{\hat \omega t})^\top
</script>
</div>
<p>因此 <span><span class="MathJax_Preview">(e^{\hat \omega t})^\top e^{\hat \omega t} = I</span><script type="math/tex">(e^{\hat \omega t})^\top e^{\hat \omega t} = I</script></span> 。 <span><span class="MathJax_Preview">R(t) = e^{\hat \omega t}</span><script type="math/tex">R(t) = e^{\hat \omega t}</script></span> 的物理解释是如果 <span><span class="MathJax_Preview">\| \omega \| = 1</span><script type="math/tex">\| \omega \| = 1</script></span>，那么 <span><span class="MathJax_Preview">R(t)</span><script type="math/tex">R(t)</script></span> 是一个沿 <span><span class="MathJax_Preview">\omega</span><script type="math/tex">\omega</script></span> 为轴，弧度大小为 <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> 的旋转。通常， <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> 可以乘到 <span><span class="MathJax_Preview">\omega</span><script type="math/tex">\omega</script></span> 中去，因此有 <span><span class="MathJax_Preview">R = e^{\hat\omega}</span><script type="math/tex">R = e^{\hat\omega}</script></span> ，其中 <span><span class="MathJax_Preview">\omega</span><script type="math/tex">\omega</script></span> 的模为任意有理数。所以，根据上文所述，矩阵指数确实定义了空间 <span><span class="MathJax_Preview">so(3)</span><script type="math/tex">so(3)</script></span> 到 <span><span class="MathJax_Preview">SO(3)</span><script type="math/tex">SO(3)</script></span> 之间的空间映射，即所谓的<strong>指数映射 (exponential map)</strong> :</p>
<div>
<div class="MathJax_Preview">
\exp : so(3) \to SO(3); \quad \hat \omega \mapsto e^{\hat \omega}
</div>
<script type="math/tex; mode=display">
\exp : so(3) \to SO(3); \quad \hat \omega \mapsto e^{\hat \omega}
</script>
</div>
<p>以上的所有推导到是在假设矩阵 <span><span class="MathJax_Preview">\hat \omega</span><script type="math/tex">\hat \omega</script></span> 是一个常量的前提下，那么对于任意的 <span><span class="MathJax_Preview">R \in SO(3)</span><script type="math/tex">R \in SO(3)</script></span> 是否都可以通过 <span><span class="MathJax_Preview">R(t) = e^{\hat \omega t}</span><script type="math/tex">R(t) = e^{\hat \omega t}</script></span> 来表示呢。答案是肯定的，接下来会对这个疑问进行阐述。</p>
<h5 id="对数映射">对数映射<a class="headerlink" href="#对数映射" title="Permanent link"></a></h5>
<p>对于任意的 <span><span class="MathJax_Preview">R \in SO(3)</span><script type="math/tex">R \in SO(3)</script></span> 存在任意的 <span><span class="MathJax_Preview">\omega \in \mathbb{R}^3</span><script type="math/tex">\omega \in \mathbb{R}^3</script></span> 使得 <span><span class="MathJax_Preview">R = \exp( \hat \omega)</span><script type="math/tex">R = \exp( \hat \omega)</script></span> 。我们定义它的逆过程为<strong>对数映射 (exponential map)</strong> ：<span><span class="MathJax_Preview">\hat \omega = \log (R)</span><script type="math/tex">\hat \omega = \log (R)</script></span> 。</p>
<p>如果旋转矩阵 <span><span class="MathJax_Preview">R \neq I</span><script type="math/tex">R \neq I</script></span> 且定义为：</p>
<div>
<div class="MathJax_Preview">
R = \begin{bmatrix} r_{11} &amp; r_{12} &amp; r_{13} \\ r_{21} &amp; r_{22} &amp; r_{23} \\ r_{31} &amp; r_{32} &amp; r_{33} \end{bmatrix}
</div>
<script type="math/tex; mode=display">
R = \begin{bmatrix} r_{11} & r_{12} & r_{13} \\ r_{21} & r_{22} & r_{23} \\ r_{31} & r_{32} & r_{33} \end{bmatrix}
</script>
</div>
<p>那么对应的 <span><span class="MathJax_Preview">\omega</span><script type="math/tex">\omega</script></span> 通过下式计算：</p>
<div>
<div class="MathJax_Preview">
\| \omega \| = \cos^{-1} \left( \frac{trace(R)-1}{2} \right) , \quad \frac{\omega}{\| \omega \|} = \frac{1}{2\sin(\| \omega \|)} \begin{bmatrix} r_{32} - r_{23} \\ r_{13} - r_{31} \\ r_{21} - r_{12} \end{bmatrix}
</div>
<script type="math/tex; mode=display">
\| \omega \| = \cos^{-1} \left( \frac{trace(R)-1}{2} \right) , \quad \frac{\omega}{\| \omega \|} = \frac{1}{2\sin(\| \omega \|)} \begin{bmatrix} r_{32} - r_{23} \\ r_{13} - r_{31} \\ r_{21} - r_{12} \end{bmatrix}
</script>
</div>
<p>如果 <span><span class="MathJax_Preview">R = I</span><script type="math/tex">R = I</script></span> ，那么 <span><span class="MathJax_Preview">\| \omega \| = 0</span><script type="math/tex">\| \omega \| = 0</script></span> ，而 <span><span class="MathJax_Preview">\frac{\omega}{\| \omega \|}</span><script type="math/tex">\frac{\omega}{\| \omega \|}</script></span> 没有定义 (因此可以任意选择) 。</p>
<p>从上面的描述可以得知：任意旋转矩阵可以通过绕以固定旋转轴 <span><span class="MathJax_Preview">\omega</span><script type="math/tex">\omega</script></span> 旋转一个特定的角度 <span><span class="MathJax_Preview">\| \omega \|</span><script type="math/tex">\| \omega \|</script></span> 得到。然而从 <span><span class="MathJax_Preview">so(3)</span><script type="math/tex">so(3)</script></span> 到 <span><span class="MathJax_Preview">SO(3)</span><script type="math/tex">SO(3)</script></span> 对数映射并不是一一对应的，这是因为任何一个 <span><span class="MathJax_Preview">2k\pi\omega, k\in Z</span><script type="math/tex">2k\pi\omega, k\in Z</script></span> 都可以得到相同的旋转矩阵 <span><span class="MathJax_Preview">R</span><script type="math/tex">R</script></span> 。</p>
<h5 id="罗德里格斯旋转">罗德里格斯旋转<a class="headerlink" href="#罗德里格斯旋转" title="Permanent link"></a></h5>
<p>通过对数映射，我们知道了如何通过一个旋转矩阵求解它的指数坐标 <span><span class="MathJax_Preview">\omega</span><script type="math/tex">\omega</script></span> 。那么如何通过一个指数坐标 <span><span class="MathJax_Preview">\omega</span><script type="math/tex">\omega</script></span> 求解一个旋转矩阵 <span><span class="MathJax_Preview">R = e^{\hat\omega}</span><script type="math/tex">R = e^{\hat\omega}</script></span> 呢？当然可以通过它本身的定义：</p>
<div>
<div class="MathJax_Preview">
e^{\hat \omega} = I + \hat\omega + \frac{(\hat\omega)^2}{2!} + \dotsb + \frac{(\hat\omega)^n}{n!} + \dotsb
</div>
<script type="math/tex; mode=display">
e^{\hat \omega} = I + \hat\omega + \frac{(\hat\omega)^2}{2!} + \dotsb + \frac{(\hat\omega)^n}{n!} + \dotsb
</script>
</div>
<p>然后一种更加有效的求解方式是通过<strong>罗德里格斯 (Rodrigues)</strong>公式进行求解。令 <span><span class="MathJax_Preview">\omega = \phi \mathbf{x}</span><script type="math/tex">\omega = \phi \mathbf{x}</script></span> 其中 <span><span class="MathJax_Preview">\phi = \| \omega \|</span><script type="math/tex">\phi = \| \omega \|</script></span> 为旋转角度，<span><span class="MathJax_Preview">\mathbf{x} = \omega / \| \omega \|</span><script type="math/tex">\mathbf{x} = \omega / \| \omega \|</script></span> 是单位长度旋转轴。根据反对称矩阵的性质有：</p>
<div>
<div class="MathJax_Preview">
\hat{\mathbf{x}}^2 = \mathbf{x}\mathbf{x}^\top - I, \quad \hat{\mathbf{x}}^3 = -\hat{\mathbf{x}}
</div>
<script type="math/tex; mode=display">
\hat{\mathbf{x}}^2 = \mathbf{x}\mathbf{x}^\top - I, \quad \hat{\mathbf{x}}^3 = -\hat{\mathbf{x}}
</script>
</div>
<p>那么</p>
<div>
<div class="MathJax_Preview">
\begin{align*}
e^{\hat \omega} &amp;= e^{\phi \hat{\mathbf{x}}} \\
&amp;= I + \phi \hat{\mathbf{x}} + \frac{(\phi \hat{\mathbf{x}})^2}{2!} + \dotsb + \frac{(\phi \hat{\mathbf{x}})^n}{n!} + \dotsb \\
&amp;= I + \phi \hat{\mathbf{x}} + \frac{1}{2!}\phi^2 \hat{\mathbf{x}}\hat{\mathbf{x}} + \frac{1}{3!}\phi^3 \underbrace{\hat{\mathbf{x}}\hat{\mathbf{x}}\hat{\mathbf{x}}}_{-\hat{\mathbf{x}}} + \frac{1}{4!}\phi^4 \underbrace{\hat{\mathbf{x}}\hat{\mathbf{x}}\hat{\mathbf{x}}\hat{\mathbf{x}}}_{-\hat{\mathbf{x}}\hat{\mathbf{x}}} - \dotsb \\
&amp;= I + \underbrace{\left(\phi - \frac{1}{3!}\phi^3 + \frac{1}{5!}\phi^5 - \dotsb \right)}_{\sin \phi} \hat{\mathbf{x}} + \left[1- \underbrace{\left(1 - \frac{1}{2!}\phi^2 + \frac{1}{4!}\phi^4 - \dotsb \right)}_{\cos \phi} \right]\hat{\mathbf{x}}\hat{\mathbf{x}} \\
&amp;= I + \sin(\|\omega\|)\frac{\hat\omega}{\|\omega\|} + (1-\cos(\|\omega\|))\frac{\hat\omega^2}{\|\omega\|^2} \\
&amp;= \cos(\|\omega\|)I + (1-\cos(\|\omega\|))\frac{\hat\omega\hat\omega^\top}{\|\omega\|^2} + \sin(\|\omega\|)\frac{\hat\omega}{\|\omega\|}
\end{align*}
</div>
<script type="math/tex; mode=display">
\begin{align*}
e^{\hat \omega} &= e^{\phi \hat{\mathbf{x}}} \\
&= I + \phi \hat{\mathbf{x}} + \frac{(\phi \hat{\mathbf{x}})^2}{2!} + \dotsb + \frac{(\phi \hat{\mathbf{x}})^n}{n!} + \dotsb \\
&= I + \phi \hat{\mathbf{x}} + \frac{1}{2!}\phi^2 \hat{\mathbf{x}}\hat{\mathbf{x}} + \frac{1}{3!}\phi^3 \underbrace{\hat{\mathbf{x}}\hat{\mathbf{x}}\hat{\mathbf{x}}}_{-\hat{\mathbf{x}}} + \frac{1}{4!}\phi^4 \underbrace{\hat{\mathbf{x}}\hat{\mathbf{x}}\hat{\mathbf{x}}\hat{\mathbf{x}}}_{-\hat{\mathbf{x}}\hat{\mathbf{x}}} - \dotsb \\
&= I + \underbrace{\left(\phi - \frac{1}{3!}\phi^3 + \frac{1}{5!}\phi^5 - \dotsb \right)}_{\sin \phi} \hat{\mathbf{x}} + \left[1- \underbrace{\left(1 - \frac{1}{2!}\phi^2 + \frac{1}{4!}\phi^4 - \dotsb \right)}_{\cos \phi} \right]\hat{\mathbf{x}}\hat{\mathbf{x}} \\
&= I + \sin(\|\omega\|)\frac{\hat\omega}{\|\omega\|} + (1-\cos(\|\omega\|))\frac{\hat\omega^2}{\|\omega\|^2} \\
&= \cos(\|\omega\|)I + (1-\cos(\|\omega\|))\frac{\hat\omega\hat\omega^\top}{\|\omega\|^2} + \sin(\|\omega\|)\frac{\hat\omega}{\|\omega\|}
\end{align*}
</script>
</div>
<p>根据上面的推导，我们可以得到已知一个旋转向量 <span><span class="MathJax_Preview">\omega</span><script type="math/tex">\omega</script></span> 求解出旋转矩阵的方式。下面给出一个更加直观的物理表现。如下图所示，我们知道任意旋转都可以表示成绕一单位旋转轴 <span><span class="MathJax_Preview">\mathbf{n}</span><script type="math/tex">\mathbf{n}</script></span> 旋转 <span><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> 角，等价与通过一个旋转向量 <span><span class="MathJax_Preview">\omega = \theta\mathbf{n}</span><script type="math/tex">\omega = \theta\mathbf{n}</script></span> 。</p>
<p><img alt="Rodrigues Rotation" src="../image/rodrigues.png" /></p>
<p>根据上图有 <span><span class="MathJax_Preview">\mathbf{v}</span><script type="math/tex">\mathbf{v}</script></span> 绕单位旋转轴 <span><span class="MathJax_Preview">\mathbf{n}</span><script type="math/tex">\mathbf{n}</script></span> 旋转 <span><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> 角后得到 <span><span class="MathJax_Preview">\mathbf{u}</span><script type="math/tex">\mathbf{u}</script></span> ，那么这一旋转过程的表示可以通过以下推导所得。</p>
<p>首先，目标向量 <span><span class="MathJax_Preview">\mathbf{v}</span><script type="math/tex">\mathbf{v}</script></span> 平行于 <span><span class="MathJax_Preview">\mathbf{n}</span><script type="math/tex">\mathbf{n}</script></span> 的分量表示为</p>
<div>
<div class="MathJax_Preview">
\mathbf{v}_{\|} = \mathbf{n}(\mathbf{n} \cdot \mathbf{v}) = (\mathbf{n}\mathbf{n}^\top)\mathbf{v}
</div>
<script type="math/tex; mode=display">
\mathbf{v}_{\|} = \mathbf{n}(\mathbf{n} \cdot \mathbf{v}) = (\mathbf{n}\mathbf{n}^\top)\mathbf{v}
</script>
</div>
<p><span><span class="MathJax_Preview">\mathbf{v}</span><script type="math/tex">\mathbf{v}</script></span> 平行于 <span><span class="MathJax_Preview">\mathbf{n}</span><script type="math/tex">\mathbf{n}</script></span> 的分量分量不受旋转影响。接着，计算目标向量 <span><span class="MathJax_Preview">\mathbf{v}</span><script type="math/tex">\mathbf{v}</script></span> 垂直于 <span><span class="MathJax_Preview">\mathbf{n}</span><script type="math/tex">\mathbf{n}</script></span> 的分量</p>
<div>
<div class="MathJax_Preview">
\mathbf{v}_\bot = \mathbf{v} - \mathbf{v}_{\|} = (I - \mathbf{nn^\top})\mathbf{v}
</div>
<script type="math/tex; mode=display">
\mathbf{v}_\bot = \mathbf{v} - \mathbf{v}_{\|} = (I - \mathbf{nn^\top})\mathbf{v}
</script>
</div>
<p>可以通过叉乘将这部分垂直分量旋转 <span><span class="MathJax_Preview">90^\circ</span><script type="math/tex">90^\circ</script></span> </p>
<div>
<div class="MathJax_Preview">
\mathbf{v}_{\times} = \mathbf{n}\times\mathbf{v} = \hat{\mathbf{n}}\mathbf{v}
</div>
<script type="math/tex; mode=display">
\mathbf{v}_{\times} = \mathbf{n}\times\mathbf{v} = \hat{\mathbf{n}}\mathbf{v}
</script>
</div>
<p>再一次旋转 <span><span class="MathJax_Preview">90^\circ</span><script type="math/tex">90^\circ</script></span> 得</p>
<div>
<div class="MathJax_Preview">
\mathbf{v}_{\times\times} = \mathbf{n}\times\mathbf{v}_{\times} = \hat{\mathbf{n}}^2 \mathbf{v} = -\mathbf{v}_{\bot}
</div>
<script type="math/tex; mode=display">
\mathbf{v}_{\times\times} = \mathbf{n}\times\mathbf{v}_{\times} = \hat{\mathbf{n}}^2 \mathbf{v} = -\mathbf{v}_{\bot}
</script>
</div>
<p>因此</p>
<div>
<div class="MathJax_Preview">
\mathbf{v}_{\|} = \mathbf{v} - \mathbf{v}_{\bot} = \mathbf{v} + \mathbf{v}_{\times\times} = (I + \hat{\mathbf{n}}^2)\mathbf{v}
</div>
<script type="math/tex; mode=display">
\mathbf{v}_{\|} = \mathbf{v} - \mathbf{v}_{\bot} = \mathbf{v} + \mathbf{v}_{\times\times} = (I + \hat{\mathbf{n}}^2)\mathbf{v}
</script>
</div>
<p>进而，我们可以得到旋转后向量 <span><span class="MathJax_Preview">\mathbf{u}</span><script type="math/tex">\mathbf{u}</script></span> 位于以 <span><span class="MathJax_Preview">\mathbf{n}</span><script type="math/tex">\mathbf{n}</script></span> 为法向量的平面分量</p>
<div>
<div class="MathJax_Preview">
\mathbf{u}_{\bot} = \cos\theta\mathbf{v}_{\bot} + \sin\theta\mathbf{v}_{\times} = (\sin\theta\hat{\mathbf{n}} - \cos\theta\hat{\mathbf{n}}^2)\mathbf{v}
</div>
<script type="math/tex; mode=display">
\mathbf{u}_{\bot} = \cos\theta\mathbf{v}_{\bot} + \sin\theta\mathbf{v}_{\times} = (\sin\theta\hat{\mathbf{n}} - \cos\theta\hat{\mathbf{n}}^2)\mathbf{v}
</script>
</div>
<p>最后我们得到旋转之后的向量 <span><span class="MathJax_Preview">\mathbf{u}</span><script type="math/tex">\mathbf{u}</script></span> </p>
<div>
<div class="MathJax_Preview">
\mathbf{u} = \mathbf{u}_{\bot} + \mathbf{v}_{\|} = (I + \sin\theta\hat{\mathbf{n}} + (1-\cos\theta)\hat{\mathbf{n}}^2) \mathbf{v}
</div>
<script type="math/tex; mode=display">
\mathbf{u} = \mathbf{u}_{\bot} + \mathbf{v}_{\|} = (I + \sin\theta\hat{\mathbf{n}} + (1-\cos\theta)\hat{\mathbf{n}}^2) \mathbf{v}
</script>
</div>
<p>由此，我们可以将旋转矩阵表示为</p>
<div>
<div class="MathJax_Preview">
R(\mathbf{n}, \theta) = I + \sin\theta\hat{\mathbf{n}} + (1-\cos\theta)\hat{\mathbf{n}}^2
</div>
<script type="math/tex; mode=display">
R(\mathbf{n}, \theta) = I + \sin\theta\hat{\mathbf{n}} + (1-\cos\theta)\hat{\mathbf{n}}^2
</script>
</div>
<h3 id="刚体运动变换的表达">刚体运动变换的表达<a class="headerlink" href="#刚体运动变换的表达" title="Permanent link"></a></h3>
<p>在上文的描述中，我们已经知道了刚体纯旋转运动的表示与对应的旋转矩阵的计算。在接下来的篇幅中，我们将介绍刚体更加一般性的运动变换，包含了旋转与平移。</p>
<p><img alt="Rigid-body Motion" src="../image/Rigid-body_Motion.png" /></p>
<p>如上图所示，一个坐标系为 <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> 的移动刚体上存在一点 <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> ，点 <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> 关于参考世界坐标系 <span><span class="MathJax_Preview">W</span><script type="math/tex">W</script></span> 的表示可以简单的关联称计算向量 <span><span class="MathJax_Preview">X_w</span><script type="math/tex">X_w</script></span> 来得到。而 <span><span class="MathJax_Preview">X_w</span><script type="math/tex">X_w</script></span> 的计算可以归简为一个世界坐标系 <span><span class="MathJax_Preview">W</span><script type="math/tex">W</script></span> 下由原点指向刚体坐标系 <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> 原点的平移向量 <span><span class="MathJax_Preview">T_{wc} \in \mathbb{R}^3</span><script type="math/tex">T_{wc} \in \mathbb{R}^3</script></span> 和转换到世界坐标系 <span><span class="MathJax_Preview">W</span><script type="math/tex">W</script></span> 下的向量 <span><span class="MathJax_Preview">X_c</span><script type="math/tex">X_c</script></span> 的向量和</p>
<div>
<div class="MathJax_Preview">
X_w = R_{wc}X_c + T_{wc}
</div>
<script type="math/tex; mode=display">
X_w = R_{wc}X_c + T_{wc}
</script>
</div>
<p>因此，刚体运动的空间由一组<strong>特殊的欧几里德变换 (special Euclidean transformations)</strong> 给出</p>
<div>
<div class="MathJax_Preview">
SE(3) \doteq \{ g=(R,T) | R \in SO(3), T \in \mathbb{R}^3 \}
</div>
<script type="math/tex; mode=display">
SE(3) \doteq \{ g=(R,T) | R \in SO(3), T \in \mathbb{R}^3 \}
</script>
</div>
<p>上述的刚体运动变换是仿射变换而非线性变换。我们利用<strong>齐次坐标系 (homogeneous coordinates)</strong> ，将它转换称线性变换</p>
<div>
<div class="MathJax_Preview">
SE(3) \doteq \left\{ g=\begin{bmatrix}R &amp; T \\ 0 &amp; 1 \end{bmatrix} \: \Bigg| \: R \in SO(3), T \in \mathbb{R}^3 \right\} \subset \mathbb{R}^{4\times4}
</div>
<script type="math/tex; mode=display">
SE(3) \doteq \left\{ g=\begin{bmatrix}R & T \\ 0 & 1 \end{bmatrix} \: \Bigg| \: R \in SO(3), T \in \mathbb{R}^3 \right\} \subset \mathbb{R}^{4\times4}
</script>
</div>
<h4 id="刚体运动的正则指数坐标">刚体运动的正则指数坐标<a class="headerlink" href="#刚体运动的正则指数坐标" title="Permanent link"></a></h4>
<p>我们已经了解了旋转矩阵 <span><span class="MathJax_Preview">R \in SO(3)</span><script type="math/tex">R \in SO(3)</script></span> 的指数坐标形式，推广相似的坐标化到应用齐次性表示的刚体运动 <span><span class="MathJax_Preview">g \in SE(3)</span><script type="math/tex">g \in SE(3)</script></span> 。考虑一个连续运动的刚体轨迹为 <span><span class="MathJax_Preview">SE(3) : g(t) = (R(t), T(t))</span><script type="math/tex">SE(3) : g(t) = (R(t), T(t))</script></span> ，用齐次坐标表示为：</p>
<div>
<div class="MathJax_Preview">
g(t) = \begin{bmatrix} R(t) &amp; T(t) \\ 0 &amp; 1 \end{bmatrix} \in \mathbb{R}^{4\times4}
</div>
<script type="math/tex; mode=display">
g(t) = \begin{bmatrix} R(t) & T(t) \\ 0 & 1 \end{bmatrix} \in \mathbb{R}^{4\times4}
</script>
</div>
<p>按照刚体纯旋转形式类推，首先考虑以下形式矩阵</p>
<div>
<div class="MathJax_Preview">
\dot g(t) g^{-1}(t) = \begin{bmatrix} \dot R(t)R^\top(t) &amp; \dot T(t) - \dot R(t) R^\top(t)T(t) \\ 0 &amp; 0 \end{bmatrix} \in \mathbb{R}^{4\times4}
</div>
<script type="math/tex; mode=display">
\dot g(t) g^{-1}(t) = \begin{bmatrix} \dot R(t)R^\top(t) & \dot T(t) - \dot R(t) R^\top(t)T(t) \\ 0 & 0 \end{bmatrix} \in \mathbb{R}^{4\times4}
</script>
</div>
<p>已知 <span><span class="MathJax_Preview">\dot R(t)R^\top(t)</span><script type="math/tex">\dot R(t)R^\top(t)</script></span> 是一个反对称矩阵，存在 <span><span class="MathJax_Preview">\hat\omega(t) \in so(3)</span><script type="math/tex">\hat\omega(t) \in so(3)</script></span> 使得 <span><span class="MathJax_Preview">\hat\omega(t) = \dot R(t)R^\top(t)</span><script type="math/tex">\hat\omega(t) = \dot R(t)R^\top(t)</script></span> ，定义一个向量 <span><span class="MathJax_Preview">v(t) = \dot T(t) - \dot R(t) R^\top(t)T(t)  \in \mathbb{R}^3</span><script type="math/tex">v(t) = \dot T(t) - \dot R(t) R^\top(t)T(t)  \in \mathbb{R}^3</script></span> 。那么上式可以转变成</p>
<div>
<div class="MathJax_Preview">
\dot g(t) g^{-1}(t) = \begin{bmatrix} \hat\omega(t)  &amp; v(t) \\ 0 &amp; 0 \end{bmatrix} \in \mathbb{R}^{4\times4}
</div>
<script type="math/tex; mode=display">
\dot g(t) g^{-1}(t) = \begin{bmatrix} \hat\omega(t)  & v(t) \\ 0 & 0 \end{bmatrix} \in \mathbb{R}^{4\times4}
</script>
</div>
<p>进一步定义矩阵 <span><span class="MathJax_Preview">\hat \xi \in \mathbb{R}^{4\times4}</span><script type="math/tex">\hat \xi \in \mathbb{R}^{4\times4}</script></span> 为</p>
<div>
<div class="MathJax_Preview">
\hat \xi(t) = \begin{bmatrix} \hat\omega(t)  &amp; v(t) \\ 0 &amp; 0 \end{bmatrix}
</div>
<script type="math/tex; mode=display">
\hat \xi(t) = \begin{bmatrix} \hat\omega(t)  & v(t) \\ 0 & 0 \end{bmatrix}
</script>
</div>
<p>那么有</p>
<div>
<div class="MathJax_Preview">
\dot g(t) = (\dot g(t) g^{-1}(t)) g(t) = \hat \xi(t)g(t)
</div>
<script type="math/tex; mode=display">
\dot g(t) = (\dot g(t) g^{-1}(t)) g(t) = \hat \xi(t)g(t)
</script>
</div>
<p>这里的 <span><span class="MathJax_Preview">\hat \xi</span><script type="math/tex">\hat \xi</script></span> 可以被认为沿这虚线 <span><span class="MathJax_Preview">g(t)</span><script type="math/tex">g(t)</script></span> 的 “切向量” ，且可以用于 <span><span class="MathJax_Preview">g(t)</span><script type="math/tex">g(t)</script></span> 的局部近似：</p>
<div>
<div class="MathJax_Preview">
g(t+dt) \approx g(t) + \hat\xi(t) g(t)dt = (I + \hat\xi(t)dt)g(t)
</div>
<script type="math/tex; mode=display">
g(t+dt) \approx g(t) + \hat\xi(t) g(t)dt = (I + \hat\xi(t)dt)g(t)
</script>
</div>
<p>形如 <span><span class="MathJax_Preview">\hat \xi</span><script type="math/tex">\hat \xi</script></span> 的 <span><span class="MathJax_Preview">4\times4</span><script type="math/tex">4\times4</script></span> 的矩阵被称为<strong>扭曲 (twist)</strong> 。所有的扭曲构成一个空间，被定义成</p>
<div>
<div class="MathJax_Preview">
se(3) \doteq \left\{ \hat\xi = \begin{bmatrix} \hat\omega &amp; v \\ 0 &amp; 0 \end{bmatrix} \; \bigg | \; \hat\omega \in so(3), v \in \mathbb{R}^3 \right\} \subset \mathbb{R}^{4\times4}
</div>
<script type="math/tex; mode=display">
se(3) \doteq \left\{ \hat\xi = \begin{bmatrix} \hat\omega & v \\ 0 & 0 \end{bmatrix} \; \bigg | \; \hat\omega \in so(3), v \in \mathbb{R}^3 \right\} \subset \mathbb{R}^{4\times4}
</script>
</div>
<p>这里的集合 <span><span class="MathJax_Preview">se(3)</span><script type="math/tex">se(3)</script></span> 被称为矩阵群 <span><span class="MathJax_Preview">SE(3)</span><script type="math/tex">SE(3)</script></span> 的切空间或者李代数。定义两个操作 “<span><span class="MathJax_Preview">\vee</span><script type="math/tex">\vee</script></span>” 和 “<span><span class="MathJax_Preview">\wedge</span><script type="math/tex">\wedge</script></span>” 关联扭曲 <span><span class="MathJax_Preview">\hat \xi \in se(3)</span><script type="math/tex">\hat \xi \in se(3)</script></span> 和它的扭曲坐标 <span><span class="MathJax_Preview">\xi \in \mathbb{R}^6</span><script type="math/tex">\xi \in \mathbb{R}^6</script></span> 如下所示：</p>
<div>
<div class="MathJax_Preview">
\begin{bmatrix} \hat\omega &amp; v \\ 0 &amp; 0 \end{bmatrix}^\vee \doteq \begin{bmatrix} v \\ \omega \end{bmatrix} \in \mathbb{R}^6 , \quad \begin{bmatrix} v \\ \omega \end{bmatrix}^\wedge \doteq \begin{bmatrix} \hat\omega &amp; v \\ 0 &amp; 0 \end{bmatrix} \in \mathbb{R}^{4\times4}
</div>
<script type="math/tex; mode=display">
\begin{bmatrix} \hat\omega & v \\ 0 & 0 \end{bmatrix}^\vee \doteq \begin{bmatrix} v \\ \omega \end{bmatrix} \in \mathbb{R}^6 , \quad \begin{bmatrix} v \\ \omega \end{bmatrix}^\wedge \doteq \begin{bmatrix} \hat\omega & v \\ 0 & 0 \end{bmatrix} \in \mathbb{R}^{4\times4}
</script>
</div>
<p>在扭曲坐标 <span><span class="MathJax_Preview">\xi</span><script type="math/tex">\xi</script></span> 下，将 <span><span class="MathJax_Preview">v</span><script type="math/tex">v</script></span> 表示为线速度，<span><span class="MathJax_Preview">\omega</span><script type="math/tex">\omega</script></span> 表示为角速度，这表明它们分别与刚体运动的位移和旋转相关。考虑特殊情况下（匀速变换运动）时， <span><span class="MathJax_Preview">\hat\xi</span><script type="math/tex">\hat\xi</script></span> 为常数矩阵</p>
<div>
<div class="MathJax_Preview">
\dot g(t) = \hat \xi g(t)
</div>
<script type="math/tex; mode=display">
\dot g(t) = \hat \xi g(t)
</script>
</div>
<p>我们又得到了一个时不变线性常微分方程，它的解可以通过下式计算给出</p>
<div>
<div class="MathJax_Preview">
g(t) = e^{\hat\xi t} g(0)
</div>
<script type="math/tex; mode=display">
g(t) = e^{\hat\xi t} g(0)
</script>
</div>
<p>假设初始条件 <span><span class="MathJax_Preview">g(0) = I</span><script type="math/tex">g(0) = I</script></span> ，这上式结果为</p>
<div>
<div class="MathJax_Preview">
g(t) = e^{\hat\xi t}
</div>
<script type="math/tex; mode=display">
g(t) = e^{\hat\xi t}
</script>
</div>
<p>其中扭曲的指数为</p>
<div>
<div class="MathJax_Preview">
e^{\hat\xi t} = I + \hat\xi t + \frac{(\hat\xi t)^2}{2!} + \cdots + \frac{(\hat\xi t)^n}{n!} + \cdots
</div>
<script type="math/tex; mode=display">
e^{\hat\xi t} = I + \hat\xi t + \frac{(\hat\xi t)^2}{2!} + \cdots + \frac{(\hat\xi t)^n}{n!} + \cdots
</script>
</div>
<p>通过前面小节介绍的 Rodrigues 法则和矩阵指数的附加性质，可以建立如下关系</p>
<div>
<div class="MathJax_Preview">
e^{\hat\xi} = \begin{bmatrix} e^{\hat\omega} &amp; \frac{(I-e^{\hat\omega})\hat\omega v + \omega \hat\omega v}{\|\omega\|} \\ 0 &amp; 1 \end{bmatrix}, \text{if} \quad \omega \neq 0
</div>
<script type="math/tex; mode=display">
e^{\hat\xi} = \begin{bmatrix} e^{\hat\omega} & \frac{(I-e^{\hat\omega})\hat\omega v + \omega \hat\omega v}{\|\omega\|} \\ 0 & 1 \end{bmatrix}, \text{if} \quad \omega \neq 0
</script>
</div>
<p>如果 <span><span class="MathJax_Preview">\omega = 0</span><script type="math/tex">\omega = 0</script></span> ，那么指数化为简单的 <span><span class="MathJax_Preview">e^{\hat\xi} = \begin{bmatrix} I &amp; v  \\ 0 &amp; 1 \end{bmatrix}</span><script type="math/tex">e^{\hat\xi} = \begin{bmatrix} I & v  \\ 0 & 1 \end{bmatrix}</script></span> ，由上式可知， <span><span class="MathJax_Preview">\xi</span><script type="math/tex">\xi</script></span> 的指数确实是 <span><span class="MathJax_Preview">SE(3)</span><script type="math/tex">SE(3)</script></span> 中的刚体变换矩阵。因此，指数映射定义了从 <span><span class="MathJax_Preview">se(3)</span><script type="math/tex">se(3)</script></span> 空间到 <span><span class="MathJax_Preview">SE(3)</span><script type="math/tex">SE(3)</script></span> 空间的变换形式</p>
<div>
<div class="MathJax_Preview">
\exp: se(3) \to SE(3); \; \hat\xi \mapsto e^{\hat\xi}
</div>
<script type="math/tex; mode=display">
\exp: se(3) \to SE(3); \; \hat\xi \mapsto e^{\hat\xi}
</script>
</div>
<p>类似于 <span><span class="MathJax_Preview">\hat\omega \in so(3)</span><script type="math/tex">\hat\omega \in so(3)</script></span> 与 <span><span class="MathJax_Preview">SO(3)</span><script type="math/tex">SO(3)</script></span> 的关系，我们称 <span><span class="MathJax_Preview">{\hat\xi} \in se(3)</span><script type="math/tex">{\hat\xi} \in se(3)</script></span> 是 <span><span class="MathJax_Preview">SE(3)</span><script type="math/tex">SE(3)</script></span> 的指数坐标。对于任意的 <span><span class="MathJax_Preview">g \in SE(3)</span><script type="math/tex">g \in SE(3)</script></span> 必定存在一个扭曲坐标 <span><span class="MathJax_Preview">\xi = (v, \omega)</span><script type="math/tex">\xi = (v, \omega)</script></span> 使得 <span><span class="MathJax_Preview">g = \exp(\hat\xi)</span><script type="math/tex">g = \exp(\hat\xi)</script></span> 。我们称这个指数映射的逆过程为对数映射 <span><span class="MathJax_Preview">{\hat\xi} = \log(g)</span><script type="math/tex">{\hat\xi} = \log(g)</script></span> 。</p>
<h3 id="坐标和速度变换">坐标和速度变换<a class="headerlink" href="#坐标和速度变换" title="Permanent link"></a></h3>
<p>在 SLAM 的研究过程中，经常需要知道一个点的坐标和它的速度如何随着摄像机的移动而变化。这是因为通常选择相机帧作为参考帧，并描述相机运动和与之相关的三维点更为方便。由于相机可能在移动，我们需要知道如何将坐标和速度等量从一个相机帧转换到另一个相机帧。特别是，我们想知道如何正确地表达一个点相对于一个运动的相机的位置和速度。</p>
<h4 id="坐标变换规则">坐标变换规则<a class="headerlink" href="#坐标变换规则" title="Permanent link"></a></h4>
<p>我们将应用一个刚体变换</p>
<div>
<div class="MathJax_Preview">
g(t) = \begin{bmatrix} R(t) &amp; T(t) \\ 0 &amp; 1 \end{bmatrix} \in SE(3)
</div>
<script type="math/tex; mode=display">
g(t) = \begin{bmatrix} R(t) & T(t) \\ 0 & 1 \end{bmatrix} \in SE(3)
</script>
</div>
<p>去表示在 <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> 时刻刚体相对于一个固定参考系下的运动变换。我们假设一个特殊情况，在 <span><span class="MathJax_Preview">t = 0</span><script type="math/tex">t = 0</script></span> 的时候，刚体坐标系与固定参考坐标系重合，即 <span><span class="MathJax_Preview">g(0) = I</span><script type="math/tex">g(0) = I</script></span> 。固定参考系下的任意点 <span><span class="MathJax_Preview">\mathbf{X}_0</span><script type="math/tex">\mathbf{X}_0</script></span> ，在 <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> 时刻它对应到刚体坐标系下的坐标为</p>
<div>
<div class="MathJax_Preview">
\mathbf{X}(t) = R(t)\mathbf{X}_0 + T(t)
</div>
<script type="math/tex; mode=display">
\mathbf{X}(t) = R(t)\mathbf{X}_0 + T(t)
</script>
</div>
<p>或者应用齐次坐标表示为</p>
<div>
<div class="MathJax_Preview">
\mathbf{X}(t) = g(t)\mathbf{X}_0
</div>
<script type="math/tex; mode=display">
\mathbf{X}(t) = g(t)\mathbf{X}_0
</script>
</div>
<p><img alt="Composition of rigid-body motions" src="../image/rigid-body_motions.png" /></p>
<p>如上图所示，给出两个不同的时刻 <span><span class="MathJax_Preview">t_1</span><script type="math/tex">t_1</script></span> 和 <span><span class="MathJax_Preview">t_2</span><script type="math/tex">t_2</script></span> ，那么 <span><span class="MathJax_Preview">t_1</span><script type="math/tex">t_1</script></span> 时刻刚体参考系下的点到 <span><span class="MathJax_Preview">t_2</span><script type="math/tex">t_2</script></span> 时刻刚体参考系下的点变换式为</p>
<div>
<div class="MathJax_Preview">
\mathbf{X}(t_2) = g(t_2, t_1)\mathbf{X}(t_1)
</div>
<script type="math/tex; mode=display">
\mathbf{X}(t_2) = g(t_2, t_1)\mathbf{X}(t_1)
</script>
</div>
<p>易得</p>
<div>
<div class="MathJax_Preview">
\mathbf{X}(t_3) = g(t_3, t_2)\mathbf{X}(t_2) = g(t_3, t_2)g(t_2, t_1)\mathbf{X}(t_1) = g(t_3, t_1)\mathbf{X}(t_1)
</div>
<script type="math/tex; mode=display">
\mathbf{X}(t_3) = g(t_3, t_2)\mathbf{X}(t_2) = g(t_3, t_2)g(t_2, t_1)\mathbf{X}(t_1) = g(t_3, t_1)\mathbf{X}(t_1)
</script>
</div>
<p>因此有</p>
<div>
<div class="MathJax_Preview">
g(t_3, t_2)g(t_2, t_1) = g(t_3, t_1)
</div>
<script type="math/tex; mode=display">
g(t_3, t_2)g(t_2, t_1) = g(t_3, t_1)
</script>
</div>
<p>通过把 <span><span class="MathJax_Preview">t_1</span><script type="math/tex">t_1</script></span> 时刻坐标系的坐标转换到 <span><span class="MathJax_Preview">t_2</span><script type="math/tex">t_2</script></span> 时刻坐标系的坐标，然后再转换回来，我们可以看到</p>
<div>
<div class="MathJax_Preview">
\mathbf{X}(t_1) = g(t_1, t_2)\mathbf{X}(t_2) = g(t_1, t_2)g(t_2, t_1)\mathbf{X}(t_1)
</div>
<script type="math/tex; mode=display">
\mathbf{X}(t_1) = g(t_1, t_2)\mathbf{X}(t_2) = g(t_1, t_2)g(t_2, t_1)\mathbf{X}(t_1)
</script>
</div>
<p>因此可得</p>
<div>
<div class="MathJax_Preview">
g(t_1, t_2)g(t_2, t_1) = I \iff g^{-1}(t_1, t_2) = g(t_2, t_1)
</div>
<script type="math/tex; mode=display">
g(t_1, t_2)g(t_2, t_1) = I \iff g^{-1}(t_1, t_2) = g(t_2, t_1)
</script>
</div>
<p>综上所述，我们可以得到刚体运动的坐标变换规则概括为</p>
<div>
<div class="MathJax_Preview">
\mathbf{X}_i = g_{ij}\mathbf{X}_j \;,\; g_{ik} = g_{ij}g_{jk} \;,\; g^{-1}_{ij} = g_{ji}
</div>
<script type="math/tex; mode=display">
\mathbf{X}_i = g_{ij}\mathbf{X}_j \;,\; g_{ik} = g_{ij}g_{jk} \;,\; g^{-1}_{ij} = g_{ji}
</script>
</div>
<h4 id="速度变换规则">速度变换规则<a class="headerlink" href="#速度变换规则" title="Permanent link"></a></h4>
<p>根据坐标变换规则，我们知道固定参考系下一点 <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> 的坐标 <span><span class="MathJax_Preview">\mathbf{X}_0</span><script type="math/tex">\mathbf{X}_0</script></span> 转换到在 <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> 时刻刚体坐标系下为 <span><span class="MathJax_Preview">\mathbf{X}(t) = g_{cw}(t) \mathbf{X}_0</span><script type="math/tex">\mathbf{X}(t) = g_{cw}(t) \mathbf{X}_0</script></span> ，那么在 <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> 时刻点 <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> 相对于刚体的瞬时速度为</p>
<div>
<div class="MathJax_Preview">
\dot{\mathbf{X}}(t) = \dot g_{cw}(t) \mathbf{X}_0 = \dot g_{cw}(t) g^{-1}_{cw}(t)\mathbf{X}(t)
</div>
<script type="math/tex; mode=display">
\dot{\mathbf{X}}(t) = \dot g_{cw}(t) \mathbf{X}_0 = \dot g_{cw}(t) g^{-1}_{cw}(t)\mathbf{X}(t)
</script>
</div>
<p>通过引入扭曲坐标</p>
<div>
<div class="MathJax_Preview">
\hat V^c_{cw}(t) \doteq g_{cw}(t) g^{-1}_{cw}(t) = \begin{bmatrix} \hat\omega(t) &amp; v(t) \\ 0 &amp; 0 \end{bmatrix} \in se(3)
</div>
<script type="math/tex; mode=display">
\hat V^c_{cw}(t) \doteq g_{cw}(t) g^{-1}_{cw}(t) = \begin{bmatrix} \hat\omega(t) & v(t) \\ 0 & 0 \end{bmatrix} \in se(3)
</script>
</div>
<p>由此，可以获得</p>
<div>
<div class="MathJax_Preview">
\dot{\mathbf{X}}(t) = \hat V^c_{cw}(t)\mathbf{X}(t)
</div>
<script type="math/tex; mode=display">
\dot{\mathbf{X}}(t) = \hat V^c_{cw}(t)\mathbf{X}(t)
</script>
</div>
<p>在 3D 非齐次坐标系下表示为</p>
<div>
<div class="MathJax_Preview">
\dot{\mathbf{X}}(t) = \hat\omega(t)\mathbf{X}(t) + v(t)
</div>
<script type="math/tex; mode=display">
\dot{\mathbf{X}}(t) = \hat\omega(t)\mathbf{X}(t) + v(t)
</script>
</div>
<p>因此，符号 <span><span class="MathJax_Preview">\hat V^c_{cw}(t)</span><script type="math/tex">\hat V^c_{cw}(t)</script></span> 表示从摄像机帧中看到的世界帧的相对速度。假设一个观测者 <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> 从不同帧的坐标系观察当前帧，则该变换为：<span><span class="MathJax_Preview">g_{yx} : \mathbf{Y}(t) = g_{yx} \mathbf{X}(t)</span><script type="math/tex">g_{yx} : \mathbf{Y}(t) = g_{yx} \mathbf{X}(t)</script></span> ，此时，观察者帧坐标系下的速度为</p>
<div>
<div class="MathJax_Preview">
\dot{\mathbf{Y}}(t) = g_{yx} \dot{\mathbf{X}}(t) = g_{yx} \hat{V}(t) \mathbf{X}(t) = g_{yx} \hat{V}(t) g_{yx}^{-1} \mathbf{Y}(t)
</div>
<script type="math/tex; mode=display">
\dot{\mathbf{Y}}(t) = g_{yx} \dot{\mathbf{X}}(t) = g_{yx} \hat{V}(t) \mathbf{X}(t) = g_{yx} \hat{V}(t) g_{yx}^{-1} \mathbf{Y}(t)
</script>
</div>
<p>这表明，从观测者 <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> 帧中观测到的点的相对速度用扭曲表示</p>
<div>
<div class="MathJax_Preview">
\hat V_y = g_{yx} \hat{V} g_{yx}^{-1} \doteq \text{ad}_{g_{xy}}(\hat V)
</div>
<script type="math/tex; mode=display">
\hat V_y = g_{yx} \hat{V} g_{yx}^{-1} \doteq \text{ad}_{g_{xy}}(\hat V)
</script>
</div>
<p>由此，引出了在 <span><span class="MathJax_Preview">se(3)</span><script type="math/tex">se(3)</script></span> 域上的<strong>伴随映射 (adjoint map)</strong>：</p>
<div>
<div class="MathJax_Preview">
\text{ad}_g : se(3) \to se(3); \quad \hat\xi \mapsto g \hat\xi g^{-1}
</div>
<script type="math/tex; mode=display">
\text{ad}_g : se(3) \to se(3); \quad \hat\xi \mapsto g \hat\xi g^{-1}
</script>
</div>
<h3 id="总结">总结<a class="headerlink" href="#总结" title="Permanent link"></a></h3>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">旋转 SO(3)</th>
<th align="center">刚体运动 SE(3)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong>矩阵表示</strong></td>
<td align="center"><span><span class="MathJax_Preview">R: \begin{cases} R^\top R = I \\ \det(R) = 1 \end{cases}</span><script type="math/tex">R: \begin{cases} R^\top R = I \\ \det(R) = 1 \end{cases}</script></span></td>
<td align="center"><span><span class="MathJax_Preview">g = \begin{bmatrix} R &amp; T \\ 0 &amp; 1 \end{bmatrix}</span><script type="math/tex">g = \begin{bmatrix} R & T \\ 0 & 1 \end{bmatrix}</script></span></td>
</tr>
<tr>
<td align="center"><strong>坐标变换</strong></td>
<td align="center"><span><span class="MathJax_Preview">\mathbf{X} = R \mathbf{X}_0</span><script type="math/tex">\mathbf{X} = R \mathbf{X}_0</script></span></td>
<td align="center"><span><span class="MathJax_Preview">\mathbf{X} = R \mathbf{X}_0 + T</span><script type="math/tex">\mathbf{X} = R \mathbf{X}_0 + T</script></span></td>
</tr>
<tr>
<td align="center"><strong>逆</strong></td>
<td align="center"><span><span class="MathJax_Preview">R^{-1} = R^\top</span><script type="math/tex">R^{-1} = R^\top</script></span></td>
<td align="center"><span><span class="MathJax_Preview">g^{-1} = \begin{bmatrix} R^\top &amp; -R^\top T \\ 0 &amp; 1 \end{bmatrix}</span><script type="math/tex">g^{-1} = \begin{bmatrix} R^\top & -R^\top T \\ 0 & 1 \end{bmatrix}</script></span></td>
</tr>
<tr>
<td align="center"><strong>运算规则</strong></td>
<td align="center"><span><span class="MathJax_Preview">R_{ik} = R_{ij}R_{jk}</span><script type="math/tex">R_{ik} = R_{ij}R_{jk}</script></span></td>
<td align="center"><span><span class="MathJax_Preview">g_{ik} = g_{ij}g_{jk}</span><script type="math/tex">g_{ik} = g_{ij}g_{jk}</script></span></td>
</tr>
<tr>
<td align="center"><strong>指数映射</strong></td>
<td align="center"><span><span class="MathJax_Preview">R = \exp(\hat\omega)</span><script type="math/tex">R = \exp(\hat\omega)</script></span></td>
<td align="center"><span><span class="MathJax_Preview">g = \exp(\hat\xi)</span><script type="math/tex">g = \exp(\hat\xi)</script></span></td>
</tr>
<tr>
<td align="center"><strong>速度</strong></td>
<td align="center"><span><span class="MathJax_Preview">\dot{\mathbf{X}} = \hat\omega \mathbf{X}</span><script type="math/tex">\dot{\mathbf{X}} = \hat\omega \mathbf{X}</script></span></td>
<td align="center"><span><span class="MathJax_Preview">\dot{\mathbf{X}} = \hat\omega \mathbf{X} + v</span><script type="math/tex">\dot{\mathbf{X}} = \hat\omega \mathbf{X} + v</script></span></td>
</tr>
<tr>
<td align="center"><strong>伴随映射</strong></td>
<td align="center"><span><span class="MathJax_Preview">\hat\omega \mapsto R \hat\omega R^\top</span><script type="math/tex">\hat\omega \mapsto R \hat\omega R^\top</script></span></td>
<td align="center"><span><span class="MathJax_Preview">\hat\xi \mapsto g \hat\xi g^{-1}</span><script type="math/tex">\hat\xi \mapsto g \hat\xi g^{-1}</script></span></td>
</tr>
</tbody>
</table>
<p>另，刚体的旋转还可以用四元数或者欧拉角来表示，这部分这里不在引申，读者可以阅读相关的文档，如果后续有对这部分内容进行书写，再在这里链接补充（#TODO）</p>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    config: ["MMLorHTML.js"],
    jax: ["input/TeX", "output/HTML-CSS", "output/NativeMML"],
    extensions: ["MathMenu.js", "MathZoom.js"],
    TeX: {
        TagSide: "right",
        TagIndent: ".8em",
        MultLineWidth: "85%",
        equationNumbers: {
            autoNumber: "AMS",
        }
    },
    showProcessingMessages: false,
    messageStyle: 'none'
});
</script>

<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js' async></script>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../linear_algebra/" title="数学背景 - 线性代数" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  后退
                </span>
                数学背景 - 线性代数
              </span>
            </div>
          </a>
        
        
          <a href="../../state_estimation_robotics/state_estimation_robotics/" title="状态估计概览" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  前进
                </span>
                状态估计概览
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019. All rights reserved.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/LSXiang" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.267712eb.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../_configurations/_theme_extra/theme_extra.js"></script>
      
    
  </body>
</html>